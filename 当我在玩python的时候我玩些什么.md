# 当我在玩python的时候我玩些什么

文章背景

　　家里的第一台电脑是在2006年夏天买的，10年上大学之后基本上就没人用，过没两年就当二手卖给一个熟人。

　　弟弟小我10岁，今年刚上初一。他在我毕业前半年就整天用妈妈的手机发短信给我，问我什么时候把学校里的台式机寄回家给他用。虽然从小就一直因为玩电脑的问题跟爸
妈时不时有点小别扭，可是我还是非常鼓励弟弟接触电脑和网络的。可能有人会说小孩子就只会玩游戏，玩游戏怎么了？小孩子的天性不就是玩嘛，在娱乐的过程中其实是可以潜
移默化地学会许多计算机日常使用的知识，还可以通过互联网跟已经认识、尚未认识的朋友进行沟通交流，好处多多的是。

然而，凡事都得有个度。初中生不可能像我们成年人一样懂得克制自己（且不说很多大人都会沉迷在这个虚拟世界里），我就萌生了写一个程序限制弟弟平日玩电脑时间的想法。

技术选型

　　其实我的第一想法是用Java，因为平时用的最多的就是它，而且除了C++之外就没有再用过别的语言。

　　程序的基本思路

用一个txt文件记录电脑的一天内累计使用时间

累计使用时间超过若干小时就会自动关机

程序开机自动运行

　　为什么我最后选择了python

　　想着怎么写、搜资料的时候就发现Java并不适合，虽然不是不能实现，但有好几个问题解决起来都有点麻烦。对我这么一个“懒”程序员来说，已经构成了“弃用”的充
分理由。就举一个简单的例子好了，最后会使用系统的关机命令实现自动关机这个功能，用Java+运行windows命令搜出来一大堆东西，看着就头疼。毕竟是业余时间
玩玩，没必要这么耗脑子。

　　可是用python就只需要用到两行代码！

    
    
    #关机命令       
    cmd="cmd.exe /k shutdown -s -t 0";
    #执行关机命令
    os.system(cmd)

动手写代码

在网上一通乱搜之后，很快就把测试用的代码给写出来了。

    
    
    #! /usr/bin/env python
    #coding=utf-8
    import os 
    import time   
    import datetime   
    #根据是否工作日设置限制时间
    if datetime.date.today().weekday()<5:
        timeLimit = 20
    else:
        timeLimit = 40
    #读取文本中记录的日期
    f = open('E:\\thefile.txt','r+')
    f_date = f.readline()
    f.close
    #读取系统日期，并与文本日期进行比对
    #如果不相等，则清空文件，进行当日初始化
    n_date = time.strftime("%d/%m/%Y")+"\n"
    if f_date != n_date:
        print("sucessed")
        f = open('E:\\thefile.txt','r+')
        f.truncate()
        f.close
        f = open('E:\\thefile.txt','r+')
        f.write((n_date))
        run_time="0"
        f.write(run_time)
        f.close
    #死循环语句，当且仅当运行时间大于等于限制时间时跳出循环
    while 2 > 1 :
        f = open('E:\\thefile.txt','r+')
        f_date = f.readline()
        run_time = f.readline()
        run = int(run_time)
    #设置五分钟休眠，两个作用：1.避免频繁读写 2.第二次开机后可以避免频繁关机
        time.sleep(300)
        if run<timeLimit:
            run = run + 1
            f.truncate()
            f.close
            f = open('E:\\thefile.txt','r+')
            f.write(f_date)
            run_time = str(run)
            f.write(run_time)
            f.close
        else:
            break
    #关机命令       
    cmd="cmd.exe /k shutdown -s -t 0";
    #执行关机命令
    os.system(cmd)

  

为了方便大家理解程序，再把txt文件中的内容贴出来以供参考

    
    
    
    01/10/2014
    20

需要特别提出的几个点

第一，因为需要实现开机自启动，所以要把python文件复制到系统的“启动”文件夹里。

第二，由于.py文件启动后会有控制台界面出现，非常影响使用效果，因此要把.py文件的后缀改成.pyw。

第三，不需要担心如果自己想要用电脑的话会受到这个限制，只要在开机5分钟内把python进程关掉即可（上面代码的time.sleep(300)）。

  

周一到周五，弟弟能用电脑的时间最多只能是两个小时；而周末，则是四个小时。

感想

1.虽然这只是一个很简单的小程序，几乎可以说是毫无难度可言，但是起到的作用还是挺大的。因为我跟哥哥工作都不在家，平时都是妈妈管着弟弟，每次都要盯着他，不能让
他玩电脑太长时间，有的时候要很大声地让他快点关机写作业。现在，只要大家商量好平时用电脑的时间，设定好参数就行。妈妈可以安心地做自己的事情，弟弟也可以心安理得
地玩他想玩的游戏。（制定规则，以一种便捷和不容分辨的方式执行，而这种方式和途径就是减少摩擦的润滑剂）

2\. 平时工作都是用Java，业余时间用别的语言（例如python）玩玩是一个蛮有趣的做法。以兴趣和小作品作为驱动，说不定以后能成为你跳槽或者转型的凭借。

3\. 作为程序员，编程是我们的饭碗，同时也可以是我们改变生活、转变思路的工具，哪怕这种影响在别人看来微不足道。

  

文章转自：http://www.cnblogs.com/levenyes/p/4003681.html

